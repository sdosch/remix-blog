{
  "version": 3,
  "sources": ["browser-route-module:/Users/sdosch/src/remix/blog/app/routes/admin/$slug.delete.tsx?browser", "../../../../app/routes/admin/$slug.delete.tsx"],
  "sourcesContent": ["export { default } from \"/Users/sdosch/src/remix/blog/app/routes/admin/$slug.delete.tsx\";", "import { useEffect, useState } from \"react\";\nimport {\n  ActionFunction,\n  Form,\n  LoaderFunction,\n  redirect,\n  useActionData,\n  useTransition,\n} from \"remix\";\nimport { useLoaderData } from \"remix\";\nimport invariant from \"tiny-invariant\";\n\nimport { deletePost, getPost, NewPost } from \"~/post\";\n\ntype PostError = {\n  title?: boolean;\n  slug?: boolean;\n  markdown?: boolean;\n};\n\nexport const loader: LoaderFunction = async ({ params }) => {\n  invariant(params.slug, \"expected params.slug\");\n  return getPost(params.slug);\n};\n\nexport const action: ActionFunction = async ({ request }) => {\n  await new Promise((res) => setTimeout(res, 1000));\n\n  const formData = await request.formData();\n\n  const slug = formData.get(\"slug\");\n\n  invariant(typeof slug === \"string\");\n  await deletePost(slug);\n\n  return redirect(\"/admin\");\n};\n\nexport default function DeletePost() {\n  const transition = useTransition();\n  const loaderData = useLoaderData();\n\n  return (\n    <Form method=\"post\">\n      <p>\n        <input type=\"hidden\" value={loaderData.slug} />\n        <button type=\"submit\">\n          {transition.submission ? \"Deleting...\" : \"Delete Post\"}\n        </button>\n      </p>\n    </Form>\n  );\n}\n"],
  "mappings": ";;;;;;;;;AAAA;;;ACAA;AAsCe,sBAAsB;AACnC,QAAM,aAAa;AACnB,QAAM,aAAa;AAEnB,SACE,oCAAC,MAAD;AAAA,IAAM,QAAO;AAAA,KACX,oCAAC,KAAD,MACE,oCAAC,SAAD;AAAA,IAAO,MAAK;AAAA,IAAS,OAAO,WAAW;AAAA,MACvC,oCAAC,UAAD;AAAA,IAAQ,MAAK;AAAA,KACV,WAAW,aAAa,gBAAgB;AAAA;",
  "names": []
}
